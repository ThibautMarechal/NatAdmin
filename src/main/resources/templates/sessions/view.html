<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout::site-head">
    <title>NatAdmin - Session</title>
</head>
<body>
<header th:replace="layout::site-header" ></header>
<div class="container-fluid" id="app">
	<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal" aria-labelledby="deleteModal" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Delete session</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" v-on:click="deleteSubmit">Delete</button>
					<button type="button" class="btn btn-warning" data-dismiss="modal">Cancel</button>
				</div>
			</div>
		</div>
	</div>
	<p>Start : {{session.startDate }}</p>
	<p>End : {{session.endDate }}</p>
	<p>Location : Longitude {{session.longitude}}, Latitude {{session.latitude}}</p>
	<p>User : <a :href="'/users/' + session.RUser.fullName">{{session.RUser.fullName}}</a></p>
	<table class="table table-hover table-responsive-sm">
    		<caption>List of observation</caption>
    		<thead>
    			<tr>
    				<th></th>
    				<th scope="col">Bird</th>
    				<th scope="col">Number</th>
    				<th scope="col">Location</th>
    				<th scope="col">...</th>
    			</tr>
    		</thead>
    		<tbody>

    			<tr v-for="observation in session.observations">
    				<td><img :src="observation.mediaPath"></td>
    				<td>{{observation.bird.name}}</td>
    				<td>{{observation.numberOfBird}}</td>
    				<td>L:{{observation.longitude}} - l:{{observation.latitude}}</td>
    				<td>
    					<button class="btn btn-primary" v-on:click="editObservation(observation)">edit</button>
    					<button class="btn btn-primary" v-on:click="deleteObservation(observation)">delete</button>
    				</td>
    			</tr>
    		</tbody>
    	</table>
</div>
<footer th:replace="layout :: site-footer" ></footer>
<script th:replace="layout :: vueJS"></script>
<div th:replace="layout :: bottom-script"></div>
<script th:inline="javascript" type="application/javascript">
/*<![CDATA[*/
var session = /*[[${session}]]*/;
new Vue({
	el:"#app",
	data:{
		session: session,
		selectedObservation: session.observations[0]
	},
	methods:{
		deleteSession: function(){

		},
		deleteSessionSubmit: function(){

		},
		deleteObservation: function(){

		},
		deleteObservationSubmit: function(){

		},
		editObservation: function(observation){

		},
		editObservationSubmit: function(){

		}
	}
})
/*]]>*/
</script>
</body>
</html>